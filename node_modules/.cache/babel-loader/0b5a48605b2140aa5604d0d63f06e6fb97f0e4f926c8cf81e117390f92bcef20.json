{"ast":null,"code":"var _jsxFileName = \"/Users/yudayouhei/Desktop/MENTA/React/todo-api/react-create-motion/todo-api/src/components/EditModal.js\";\nimport React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport axios from 'axios'; // axiosをインポート\nimport './EditModal.css'; // EditModal専用のCSSを作成する場合\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst url = 'https://sample-api.manabupanda.net/api/list'; // APIのベースURL\n\nfunction EditModal({\n  showModal,\n  handleClose,\n  editedText,\n  handleChange,\n  selectedContentId,\n  // 編集対象のコンテンツIDを追加\n  setContents,\n  // contentsを更新するための関数を受け取る\n  errorModalMessage\n}) {\n  // Enterキーが押されたときにhandleSaveを実行\n  const handleKeyDown = e => {\n    if (e.key === 'Enter') {\n      handleSave();\n    }\n  };\n\n  // 編集内容を保存\n  const handleSave = async () => {\n    if (editedText === \"\") {\n      // エラーメッセージを表示\n      return;\n    }\n    try {\n      // APIにPOSTリクエストを送信\n      const response = await axios.post(url, {\n        name: editedText,\n        id: Date.now() // 一意のIDを生成\n      });\n\n      // 成功したら、contentsを更新\n      setContents(prevContents => prevContents.map(content => content.id === selectedContentId ? {\n        ...content,\n        content: response.data.name\n      } // 更新した内容\n      : content));\n      handleClose(); // モーダルを閉じる\n    } catch (error) {\n      console.error(\"POSTリクエストに失敗しました:\", error);\n      if (error.response) {\n        console.error('サーバーからのエラーレスポンス:', error.response.data);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: showModal,\n    onHide: handleClose,\n    centered: true,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        children: \"\\u7DE8\\u96C6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: editedText,\n          onChange: handleChange,\n          onKeyDown: handleKeyDown,\n          className: \"edit-modal-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), errorModalMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: errorModalMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"secondary\",\n        onClick: handleClose,\n        children: \"\\u9589\\u3058\\u308B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        onClick: handleSave,\n        children: \"\\u4FDD\\u5B58\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_c = EditModal;\nexport default EditModal;\nvar _c;\n$RefreshReg$(_c, \"EditModal\");","map":{"version":3,"names":["React","Button","Modal","axios","jsxDEV","_jsxDEV","url","EditModal","showModal","handleClose","editedText","handleChange","selectedContentId","setContents","errorModalMessage","handleKeyDown","e","key","handleSave","response","post","name","id","Date","now","prevContents","map","content","data","error","console","show","onHide","centered","children","Header","closeButton","Title","fileName","_jsxFileName","lineNumber","columnNumber","Body","type","value","onChange","onKeyDown","className","Footer","variant","onClick","_c","$RefreshReg$"],"sources":["/Users/yudayouhei/Desktop/MENTA/React/todo-api/react-create-motion/todo-api/src/components/EditModal.js"],"sourcesContent":["import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport axios from 'axios'; // axiosをインポート\nimport './EditModal.css'; // EditModal専用のCSSを作成する場合\n\nconst url = 'https://sample-api.manabupanda.net/api/list'; // APIのベースURL\n\nfunction EditModal({\n  showModal, \n  handleClose, \n  editedText, \n  handleChange, \n  selectedContentId, // 編集対象のコンテンツIDを追加\n  setContents, // contentsを更新するための関数を受け取る\n  errorModalMessage,\n}) {\n  // Enterキーが押されたときにhandleSaveを実行\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      handleSave();\n    }\n  };\n\n  // 編集内容を保存\n  const handleSave = async () => {\n    if (editedText === \"\") {\n      // エラーメッセージを表示\n      return;\n    }\n\n    try {\n      // APIにPOSTリクエストを送信\n      const response = await axios.post(url, {\n        name: editedText,\n        id: Date.now(), // 一意のIDを生成\n      });\n\n      // 成功したら、contentsを更新\n      setContents((prevContents) =>\n        prevContents.map((content) =>\n          content.id === selectedContentId\n            ? { ...content, content: response.data.name } // 更新した内容\n            : content\n        )\n      );\n\n      handleClose(); // モーダルを閉じる\n    } catch (error) {\n      console.error(\"POSTリクエストに失敗しました:\", error);\n      if (error.response) {\n        console.error('サーバーからのエラーレスポンス:', error.response.data);\n      }\n    }\n  };\n\n  return (\n    <Modal show={showModal} onHide={handleClose} centered>\n      <Modal.Header closeButton>\n        <Modal.Title>編集</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <div>\n          <input\n            type=\"text\"\n            value={editedText}\n            onChange={handleChange}\n            onKeyDown={handleKeyDown} \n            className=\"edit-modal-input\"\n          />\n          {errorModalMessage && <p className=\"error-message\">{errorModalMessage}</p>}\n        </div>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"secondary\" onClick={handleClose}>\n          閉じる\n        </Button>\n        <Button variant=\"primary\" onClick={handleSave}>\n          保存\n        </Button>\n      </Modal.Footer>\n    </Modal> \n  );\n}\n\nexport default EditModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}