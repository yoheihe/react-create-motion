{"ast":null,"code":"var _jsxFileName = \"/Users/yudayouhei/Desktop/MENTA/React/todo-api/react-create-motion/todo-api/src/components/EditModal.js\";\nimport React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport axios from 'axios'; // axiosをインポート\nimport './EditModal.css'; // EditModal専用のCSSを作成する場合\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst url = 'https://sample-api.manabupanda.net/api/list'; // APIのベースURL\n\nfunction EditModal({\n  showModal,\n  handleClose,\n  editedText,\n  handleChange,\n  selectedContentId,\n  // 編集対象のコンテンツIDを追加\n  setContents,\n  // contentsを更新するための関数を受け取る\n  errorModalMessage\n}) {\n  // Enterキーが押されたときにhandleSaveを実行\n  const handleKeyDown = e => {\n    if (e.key === 'Enter') {\n      handleSave();\n    }\n  };\n\n  // 編集内容を保存\n  const handleSave = async () => {\n    console.log('保存時のID:', selectedContentId); // 追加\n    if (!selectedContentId || editedText === \"\") {\n      // エラーメッセージを表示\n\n      return;\n    }\n    try {\n      // APIにPOSTリクエストを送信\n      const response = await axios.post(`${url}/${selectedContentId}`, {\n        name: editedText\n      });\n\n      // 成功したら、contentsを更新\n      setContents(prevContents => prevContents.map(content => content.id === selectedContentId ? {\n        ...content,\n        content: response.data.name\n      } // 更新した内容\n      : content));\n      handleClose(); // モーダルを閉じる\n    } catch (error) {\n      console.error(\"POSTリクエストに失敗しました:\", error);\n      if (error.response) {\n        console.error('サーバーからのエラーレスポンス:', error.response.data);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: showModal,\n    onHide: handleClose,\n    centered: true,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        children: \"\\u7DE8\\u96C6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: editedText,\n          onChange: handleChange,\n          onKeyDown: handleKeyDown,\n          className: \"edit-modal-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), errorModalMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: errorModalMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"secondary\",\n        onClick: handleClose,\n        children: \"\\u9589\\u3058\\u308B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        onClick: handleSave,\n        children: \"\\u4FDD\\u5B58\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n_c = EditModal;\nexport default EditModal;\nvar _c;\n$RefreshReg$(_c, \"EditModal\");","map":{"version":3,"names":["React","Button","Modal","axios","jsxDEV","_jsxDEV","url","EditModal","showModal","handleClose","editedText","handleChange","selectedContentId","setContents","errorModalMessage","handleKeyDown","e","key","handleSave","console","log","response","post","name","prevContents","map","content","id","data","error","show","onHide","centered","children","Header","closeButton","Title","fileName","_jsxFileName","lineNumber","columnNumber","Body","type","value","onChange","onKeyDown","className","Footer","variant","onClick","_c","$RefreshReg$"],"sources":["/Users/yudayouhei/Desktop/MENTA/React/todo-api/react-create-motion/todo-api/src/components/EditModal.js"],"sourcesContent":["import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport axios from 'axios'; // axiosをインポート\nimport './EditModal.css'; // EditModal専用のCSSを作成する場合\n\nconst url = 'https://sample-api.manabupanda.net/api/list'; // APIのベースURL\n\nfunction EditModal({\n  showModal, \n  handleClose, \n  editedText, \n  handleChange, \n  selectedContentId, // 編集対象のコンテンツIDを追加\n  setContents, // contentsを更新するための関数を受け取る\n  errorModalMessage,\n}) {\n  // Enterキーが押されたときにhandleSaveを実行\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      handleSave();\n    }\n  };\n\n  // 編集内容を保存\n  const handleSave = async () => {\n    console.log('保存時のID:', selectedContentId); // 追加\n    if (!selectedContentId || editedText === \"\") {\n      // エラーメッセージを表示\n\n      return;\n    }\n\n    try {\n      // APIにPOSTリクエストを送信\n      const response = await axios.post(`${url}/${selectedContentId}`, {\n        name: editedText,\n      });\n\n      // 成功したら、contentsを更新\n      setContents((prevContents) =>\n        prevContents.map((content) =>\n          content.id === selectedContentId\n            ? { ...content, content: response.data.name } // 更新した内容\n            : content\n        )\n      );\n\n      handleClose(); // モーダルを閉じる\n    } catch (error) {\n      console.error(\"POSTリクエストに失敗しました:\", error);\n      if (error.response) {\n        console.error('サーバーからのエラーレスポンス:', error.response.data);\n      }\n    }\n  };\n\n  return (\n    <Modal show={showModal} onHide={handleClose} centered>\n      <Modal.Header closeButton>\n        <Modal.Title>編集</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <div>\n          <input\n            type=\"text\"\n            value={editedText}\n            onChange={handleChange}\n            onKeyDown={handleKeyDown} \n            className=\"edit-modal-input\"\n          />\n          {errorModalMessage && <p className=\"error-message\">{errorModalMessage}</p>}\n        </div>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"secondary\" onClick={handleClose}>\n          閉じる\n        </Button>\n        <Button variant=\"primary\" onClick={handleSave}>\n          保存\n        </Button>\n      </Modal.Footer>\n    </Modal> \n  );\n}\n\nexport default EditModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}